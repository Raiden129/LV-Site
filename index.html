<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leslie&Victims</title>
    <link rel="icon" type="image/png" href="favicon.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <link rel="preconnect" href="https://----.firebasedatabase.app" crossorigin>
    <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
    
    
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
        as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    </noscript>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <nav class="nav-bar">
        <div class="nav-content">
            <div class="nav-logo" onclick="window.location.href='?'">
                Leslie<span>&Victims</span>
            </div>
            <div id="nav-breadcrumb" class="breadcrumb"></div>

            
            <div id="header-live-count" class="header-live-count">
                <span class="live-dot"></span>
                <span id="live-count-text">...</span>
            </div>

            <button class="btn-theme-toggle" onclick="toggleTheme()" title="Switch Theme">
                <svg class="icon-sun" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="icon-moon hidden" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
    </nav>

    <div class="container">

        <div id="error-box" class="error-msg hidden"></div>

        <section id="view-home">
            <div class="section-header">
                <div class="section-header-left">
                    <div class="section-header-accent"></div>
                    <h2>Library</h2>
                </div>
                <span class="section-subtitle" id="series-count"></span>
            </div>
            <div id="series-list" class="grid-series"></div>
        </section>

        <section id="view-chapters" class="hidden">
            <div class="section-header">
                <div class="section-header-left">
                    <div class="section-header-accent"></div>
                    <h2 id="series-title">Chapters</h2>
                </div>
                <div class="flex-center-gap">
                    <button id="btn-sort-chapters" class="sort-toggle" onclick="toggleChapterSort()">
                        Sort
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2.5"
                            viewBox="0 0 24 24">
                            <path d="M7 15l5 5 5-5M7 9l5-5 5 5" />
                        </svg>
                    </button>
                    <span class="section-subtitle" id="chapter-count"></span>
                </div>
            </div>
            <div id="chapter-list" class="grid-chapters"></div>

            
            <div class="comments-wrapper">
                <h3>Comments</h3>

                <div class="comment-tools">
                    <div class="tool-group">
                        <button class="tool-btn" onclick="copyToComment('**bold**')" title="Bold"><svg width="16"
                                height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>
                                <path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>
                            </svg></button>
                        <button class="tool-btn" onclick="copyToComment('*italic*')" title="Italic"><svg width="16"
                                height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <line x1="19" y1="4" x2="10" y2="4"></line>
                                <line x1="14" y1="20" x2="5" y2="20"></line>
                                <line x1="15" y1="4" x2="9" y2="20"></line>
                            </svg></button>
                        <button class="tool-btn" onclick="copySpoiler()" title="Spoiler"><svg width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <path d="M2 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                <path d="M2 12l20 0" />
                            </svg></button>
                    </div>

                    <div class="tool-sep"></div>

                    <button class="tool-btn" id="btn-upload-image" title="Upload Image">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <circle cx="8.5" cy="8.5" r="1.5" />
                            <polyline points="21 15 16 10 5 21" />
                        </svg>
                        <span>Image</span>
                    </button>
                    <input type="file" accept="image/*" class="sr-only">

                    <div class="upload-status-toast hidden" id="upload-toast"></div>
                    <div class="tool-sep"></div>
                    <button class="tool-btn help-btn" onclick="toggleCommentHelp()" title="View guide">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" class="icon-mr">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span>Formatting Help</span>
                    </button>
                </div>

                <div id="comment-help-panel" class="comment-help-panel hidden">
                    <h4><span class="emoji">ðŸ’¡</span> Commenting Tips</h4>
                    <ul>
                        <li>
                            <strong>Uploading Images:</strong>
                            Click the "Image" button or Drag & Drop. <br>
                            <span class="highlight">The link is copied to your clipboard automatically.</span> <br>
                            Just paste (Ctrl+V) it into the text box!
                        </li>
                        <li>
                            <strong>Formatting:</strong>
                            Use the <b>Bold</b>, <i>Italic</i>, or <span class="spoiler-demo">Spoiler</span> buttons to
                            copy syntax.
                        </li>
                        <li>
                            <strong>Preview:</strong>
                            Click the "Preview" tab in the comment box to see how your images and spoilers will look
                            before posting.
                        </li>
                    </ul>
                </div>

                <div class="comments-container"></div>
            </div>
        </section>

        <section id="view-reader" class="hidden">
            <div id="reader-container"></div>

            
            <div class="reader-controls">
                <div class="reader-controls-inner">
                    <button id="btn-prev-chapter" class="btn btn-secondary">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path d="M15 18l-6-6 6-6" />
                        </svg>
                        Previous
                    </button>
                    <button id="btn-next-chapter" class="btn btn-secondary">
                        Next
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path d="M9 18l6-6-6-6" />
                        </svg>
                    </button>
                </div>
            </div>

            
            <button id="btn-scroll-top" class="btn btn-secondary floating-top-btn hidden"
                onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M18 15l-6-6-6 6" />
                </svg>
                Top
            </button>

            
            <div class="comments-wrapper">
                <h3>Comments</h3>

                <div class="comment-tools">
                    <div class="tool-group">
                        <button class="tool-btn" onclick="copyToComment('**bold**')" title="Bold"><svg width="16"
                                height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>
                                <path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path>
                            </svg></button>
                        <button class="tool-btn" onclick="copyToComment('*italic*')" title="Italic"><svg width="16"
                                height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <line x1="19" y1="4" x2="10" y2="4"></line>
                                <line x1="14" y1="20" x2="5" y2="20"></line>
                                <line x1="15" y1="4" x2="9" y2="20"></line>
                            </svg></button>
                        <button class="tool-btn" onclick="copySpoiler()" title="Spoiler"><svg width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <path d="M2 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                <path d="M2 12l20 0" />
                            </svg></button>
                    </div>

                    <div class="tool-sep"></div>

                    <button class="tool-btn" id="btn-upload-image-reader" title="Upload Image">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <circle cx="8.5" cy="8.5" r="1.5" />
                            <polyline points="21 15 16 10 5 21" />
                        </svg>
                        <span>Image</span>
                    </button>
                    <input type="file" accept="image/*" class="sr-only">

                    <div class="upload-status-toast hidden" id="upload-toast-reader"></div>
                    <div class="tool-sep"></div>
                    <button class="tool-btn help-btn" onclick="toggleCommentHelp()" title="View guide">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" class="icon-mr">
                            <circle cx="12" cy="12" r="10"></circle>
                            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span>Formatting Help</span>
                    </button>
                </div>

                <div class="comment-help-panel hidden">
                    <h4><span class="emoji">ðŸ’¡</span> Commenting Tips</h4>
                    <ul>
                        <li>
                            <strong>Uploading Images:</strong>
                            Click the "Image" button or Drag & Drop. <br>
                            <span class="highlight">The link is copied to your clipboard automatically.</span> <br>
                            Just paste (Ctrl+V) it into the text box!
                        </li>
                        <li>
                            <strong>Formatting:</strong>
                            Use the <b>Bold</b>, <i>Italic</i>, or <span class="spoiler-demo">Spoiler</span> buttons to
                            copy syntax.
                        </li>
                        <li>
                            <strong>Preview:</strong>
                            Click the "Preview" tab in the comment box to see how your images and spoilers will look
                            before posting.
                        </li>
                    </ul>
                </div>

                <div class="comments-container"></div>
            </div>
        </section>

    </div>
    
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <script src="dist/app.bundle.js" defer></script>
</body>

</html>
